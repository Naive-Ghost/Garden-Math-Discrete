## 有限集

**偏序（序关系），偏序集（有序集）**

假设 R 是集合 S 的一种关系，它满足下面三个性质：
  - [O_1]（返身性）对任何 a \in S，有 aRa；
  - [O_2]（反对称性）若 aRb 且 bRa，则 a = b；
  - [O_3]（传递性）若aRb 且 bRc，则 aRc；

则称 R 为一个 **偏序** 或 简称一个 **序关系**。带有偏序关系 R 的集合 S 叫做一个偏序集，或简称为有限集。当我们要标明 R时，记作 (S, R)。

最常见的序关系叫 **常序**，如在实数R的子集中正整数 N 中的 “<=” 关系（读作小于等于）。由此，一个偏序关系通常记作 \precsim，即：
$$
a \precsim b
$$

读作“a 先于 b”。

类似的：
$$
a \prec b \iff a \precsim b \land a \neq b
$$
读作：“a 严格先于 b”。
$$
b \succsim a \iff a \precsim b
$$
读作：“b 后于 a”。
$$
b \succ a \iff a \prec b
$$
读作“b 严格后于 a”。

此外：
$$
\not\precsim, \not\prec, \not\succsim, \not\succ
$$
的定义是自然的。

当不产生混淆时，常用符号
$$
\leq, <, >, \geq
$$
分别替代符号：
$$
\precsim, \prec, \succ, \succsim
$$

**特性**

对于集合 S，偏序可能有多种。

对于集合 S，如 n(S) > 1，则 S 上的完全关系（S^2）不是偏序。

对于集合 S，S 上的具有对称性的关系不是偏序。

### 对偶序

设 \precsim 为集合 S 的任何偏序，关系 \succsim，即 a 后于 b，也是 S 的偏序，叫做对偶序。
显然， a\precsim b 当且仅当 b\succsim a；因此对偶序\precsim 是 \succsim 的逆，即\precsim = \succsim^{-1}。

### 有序子集

设 A 为有限集 S 的一个子集，假设 a, b \in A。在 A 中定义 a\precsim b 当且仅当在 S 中有 a\precsim b。
A 的这个偏序叫 A 上的**诱导序**，带有诱导序的子集 A 被称为 S 的**有序子集**。
除非特殊说明，序集 S 的任何子集被认为是 S 的有序子集。

### 半序

设定 \prec 是集合S上的一种关系，满足下面两个性质：
  - [Q_1]（非返身性） 对任何 a \in A，有 a\not\prec a;
  - [Q_2]（传递性） 若 a\prec b 且 b\prec c，则a\prec c;
      那么，\prec 叫作 S 的半序。

偏序和半序有着紧密的联系，特别地，如果 \precsim 是集合S上的偏序，则 a \prec b 意为 a \precsim b 且 a\neq b，即\prec是S上的半序。反之，如果\prec 是 S 上的半序，则 a \precsim b 意为 a\prec b 或 a = b，即 \precsim 是 S 上的偏序。

### 可比较性，线性序集

假设 a 和 b 是偏序集合 S 的元素，我们说 a 和 b 是可比较的，如果有：
$$
a \precsim b \lor b \succsim a
$$
即，一个先于另一个。否则，a 和 b 是不可比较的，记作：
$$
a \| b
$$
即，既没有 a \precsim b 也没有 b \succsim a。

“偏”是用来定义偏序集 S，因为 S 的某些元素是不需要可比较的。换句话说，假设 S 的每一对元素都是可比较的，则 S 被称为 **全序** 或 **线性序**，且 S 被叫做一条链。尽管序集 S 可能不是线性序集，S的子集A仍有可能是线性序集。很明显，线性序集 S 的每一个子集一定是线性序。

### 积集和积序

有很多方法定义所给定有序集的笛卡尔积上的序关系，下面是其中的两个方法：

  1. **积序**
     设 S 和 T 是有序集，那么下面是积集 S\times T 上的一种有序关系，称为积序：
     $$
     (a, b) \precsim (a', b'), a\precsim a' \land b \precsim b'
     $$

  2. **字典排序**
     设 S 和 T 是线性序集，那么下面积集 S \times T 上的一种序关系，称为**字典排序**。
     $$
     (a, b) \precsim (a', b'), a\prec a' \lor (a = a' \land b \precsim b')
     $$

     这个序能推广到 S_1 \times S_2 \times \cdots \times \S_n 上：
     $$
     (a_1, a_2, \cdots, a_n) \prec (a_1', a_2', \cdots, a_n')
     $$
     对于 i = 1, 2, ..., k - 1 有 a_i = a_{i}' 且 a_k < a_k'。

### Kleene闭包与序

设 A（非空）是一个线性序字母表，回顾A^* ，称作 A 的Kleene闭包，由A中所有字符串w构成，|w| 表示 w 的长度，因此下面是 A^* 上的两个序关系。
  1. **字母排序**
     - \lambda < w，\lambda是空字符串，w 是任何非空字符串；
     - 设 u = au' 和 v = bv' 是不同的字符串，a,b \in A, u', v' \in A^*，那么：
       $$
       u \prec v \iff a \prec b \lor (a = b \land u' \prec v')
       $$

  2. **长度-字母序**
     这里 A^* 先按长度排，再按字母涛掉，即对A* 中任何不同字符串u，v
     $$
     u \prec v \iff |u| < |v| \lor (|u| = |v| \land \text{alphabetical-ordered}, u \prec v)
     $$
     这个序也称作 **自由半群序**。

## 偏序集的 Hasse图

**直接前元，直接继承**

设 S 是一个偏序集，且a，b属于 S。如果 a < b，且在 S 中没有元素介于a 与 b 之间，即不存在 c \in S，使得 a < c < b，则称 a 是 b 的一个直接前元，或 b 是 a 的一个直接继元，或 b 盖住 a，记作：
$$
a \ll b
$$

假定 S 是有限偏序集，如果我们知道 S 中所有 a \ll b 的元素对 (a, b)，则知道 S 上的\ll 关系，S 中的序将完全清楚。
因为：x < y 当且仅当 x \ll y 或 在S中存在元素 a_1, a_2, ..., a_m，使得：
$$
x \ll a_1 \ll a_2 \ll \cdots a_m \ll y
$$

**Hasse图**
Hasse图是有序偏序集 S 的直接图解，它的顶点是 S 的元素，当 a << b时，从a 到 b 有一个有向边。（此时，将 b 置于高于 a 的地方,然后画一条线将它们连起来；即，向上运动引起后元）。
因此， 在图中，从点x 到 y 有一有向路，当且仅当 x < y。同样，在S的图中没有环，没有序关系是反对称的。

### 极大元素，极小元素，最小元素和最大元素

设 S 为一个偏序集，a 为 S 中的一个元素，

**极小元素**：如果 S 中没有其他元素严格先于 a。
**极大元素**：如果 S 中没有其他元素严格后于 a。

（S 中可以有多于一个极小元素和极大元素；如果 S 是无限的，那么 S 可能没有极小或极大元素，即，如果 S 是有限的，那么 S 一定至少有一个极小元素和一个极大元素）

**最小元素**：如果对于 S 中的每一个元素 x，有
$$
a \precsim x
$$
即 a 先于 S 中其他每一个元素。

**最大元素**：如果对于 S 中的每一个元素 x，有
$$
a \succsim x
$$
即 a 后于 S 中其他每一个元素。

（S 至多有一个最小元素，它一定是极小元素；S 中至多有一个最大元素，它一定是极大元素。总的说来，甚至在 S 是有限时，S 可能既无最小元素，也无最大元素。例如当 S 中的存在多个极小元素或极大元素当且相互之间不可比较时。）

## 相容编号

设 S 是一个有限偏序集，对 S 中的每一个元素指派一个正整数，使得序关系能够保持。即求一个函数 f: S \to N 使得，如果 a \prec b, 那么 f(a) < f(b)，这样的函数被称为 S 的相容编号。

**定理14.1** 任何有限偏序集 A 存在相容编号。

## 上确界 和 下确界

设 A 是偏序集 S 的一个子集，M 是 S 中的元素，
**上界**：如果 M 后于 A 中的每一个元素，即 对于 A 中的每一个 x，有：
$$
x \precsim M
$$
M 叫做 A 的一个上界。

**上确界**：如果A的一个上界先于 A 的其他每个上界，那么它叫做 A 的上确界，记为：
$$
sup(A)
$$
如果 A 含有元素 a_1, ..., a _m，我们也将 sup(A) 记作：
$$
sup(a_1, \cdots, a_n)
$$

我们强调至多只有一个上确界sup(A)；当然 sup(A) 也可能不存在。


设 A 是偏序集 S 的一个子集，m 是 S 中的元素，
**下界** 如果 m 后于 A 中的每一个元素，即 对于 A 中的每一个 x，有：
$$
x \succsim m
$$
M 叫做 A 的一个上界。

**下确界**：如果 A 的一个下界后于 A 的其他每个下界，那么它叫做 A 的下确界，记为：
$$
inf(A)
$$
如果 A 含有元素 a_1, ..., a _m，我们也将 inf(A) 记作：
$$
inf(a_1, \cdots, a_n)
$$

我们强调至多只有一个下确界 inf(A)；当然 inf(A) 也可能不存在。

有的书使用 最小上界 代替 上确界，写作 lub(A)；用 最大下界 代替 下确界，写作 glb(A)。

如果 A 有一个上界，我们称 A 是**上有界**的；如果 A 有一个下界，我们称 A 是下有界的；特别地，如果A有上界和下界，A 是有界的。

## 同构序集

**相似映射** 假设 X 和 Y 是偏序集， f: X \to Y 是 A 的单射函数，如果f 保持序关系，即对于 X 中的任意元素 a 和 a'，下面两个条件成立：
    1. 若 a \precsim  a', 那么 f(a) \precsim f(a')；
    2. 若 a || a'（不可比较），那么 f(a) || f(a')；
  则 f 被叫做 X 到 Y 的相似映射。
  （若A 和 B 是线性集，则只需要条件 1）

**同构** 两个序集 X 和 Y 是同构的，如果存在一个保持序关系的双射 f: X \to Y，即一个同构映射 f，记作：
$$
X \simeq Y
$$

## 良序集

**定义** 如果序集 S 的每个一个子集都有最小元素，则 S 称为良序的。

### 超限归纳法

设 A 是一个良序集 S 的子集，并具有以下两个性质：
    1. a_0 \in A；
    2. 如果 s(a) \subseteq A，那么 a \in A；
  则 A = S。
  此处的 a_0 是 S 中的最小元素，s(a) 称为 a 的前缀，即 S 中严格先于 a 的所有元素的集合。

### 选择公理，良序定理

**选择函数**：

设 \{ A_i : i \in I \} 是一个非空的不交的集簇。
假设 A_i \subseteq X，函数 f: \{ A_i \} \to X 叫做一个**选择函数**，如果 f(A_i) = a_i \in A_i。
换句话说，f 为每个集合 A_i 选择一点 a_i \in A_i。

**选择公理** 任何一个非空集合的非空集簇都存在一个选择函数。

**良序定理** 每一个集合 S 都能成为良序集。

## 格

设 L 是对二元运算交 \land 和并 \lor 封闭的集合，如果对 L 中的任意元素a，b，c有：
  1. 交换律：
    $$
    a \land b = b \land a, a \lor b = b \lor a
    $$

  2. 结合律：
    $$
    (a \land b)\land c = a \land (b \land c), (a \lor b)\lor c = a \lor (b \lor c)
    $$

  3. 吸收律：
    $$
    a \land (a\lor b) = a, a\lor (a \land b) = a
    $$


称 L 为格。记 (L, \land, \lor) 表示格 L。

### 对偶律 和 幂等律

对偶：一个格 (L, \land, \lor) 中任何一个命题的对偶命题是通过互换 \land 和 \lor 得到的。

**对偶原理** 格 中任何一个定理的 对偶 还是 格 的一个定理。

**幂等律** 1. a \land a = a 2. a \lor a = a

格 L 上的关系定义：
$$
a\land b = a \implies a \precsim b
$$

$$
a\lor b = b \implies a \precsim b
$$

**定理14.4** 设 L 是一个格，那么：
    1. a \land b = a 当且仅当 a\lor b = b；
    2. 关系 a \precsim b 是L的一个偏序；

**定理14.5** 设 P 是一个偏序集使得对于任意a，b \in P，inf(a, b) 和 sup(a, b) 都存在，设 a\land b = inf(a, b), a\lor b = sup(a, b)。则 (P, \land,\ lor) 是一个格。进一步的，这个 格 推导出的偏序 与 原来的偏序 P 相同。

**替换定义** 一个格是一个偏序集，在这个集合中，对任何一对元素 a 和 b：
$$
a \land b = inf(a, b) 和 a \lor b = sup(a, b)
$$
都存在。

### 子格，同构格

假设 M 是格 L 的一个非空子集，

子格：若 M 本身也是一个格（关于 L 的运算），则 M 称为子格。

同构格：两个格 L 和 L' 被认为是同构的，如果存在一个双射 f: L \to L'，使得对 L 中的任何元素a，b满足：
$$
f(a\land b) = f(a)\land f(b), f(a\lor b) = f(a) \lor f(b)
$$

## 有界格

一个格 L 称为有下界 0，如果对 L 中任何元素 x 都有 0 \precsim x，类似地，L 称为是有上界I，如果对 L 中任何元素 x 都有任何元素 x 都有 x \precsim I。我们说 L 是有界的，如果 L 有下界 0 和上界 I。
在这样的格中，对于 L 中的任意元素a，我们有下面的恒等式：
$$
a\lor I = I, a \land I = a, a \lor 0 = a, a \land 0 = 0
$$

对于非负整数的常序；
$$
0 < 1 < 2 < 3 < 4 < \cdots
$$
有下界为 0，但没有上界。
全集U上所有子集构成的格 P(U) 是一个以 U 为上界，以 \emptyset 以下界的有界格。

**定理14.6** 每一个有限格 L 都是有界的。

## 分配格

对于格 L，如果对于 L 中任何元素a，b，c，成立如下定律：

1. 分配律
$$
a \land (b \lor c) = (a\land b)\lor (a\land c), a \lor (b \land c) = (a \lor b)\land (a \lor c)
$$

则称为**分配格**；否则，L 是非分配的。

**定理14.7** 格 L 是非分配格当且仅当它包含一个形如下列的同构的子格。

  l
 / \
c   \
|    b
a   /
 \ /
  0

或：

   l
 / | \
a  b  c
 \ | /
   0

### 并不可约元素，原子

**并不约元素** 设 L 是一个以 0 为下界的格，对于L 中的一个元素 a，如果 a = x \lor y蕴含着 a = x 或 a = y。
显然，0 是并不可约的当且仅当a有唯一的直接前元。

**原子** 0 的 直接继元 叫原子，是并不可约的。

**定理14.8** 设 L 是一个有限分配格，则 L 中的每一个元素 a 都可以唯一（不计顺序）地写成 两两不可比的 并不可约的 元素的并。

## 补元，有补格

**补元**

设 L 是一个下界为 0，上界为 I 的有界格。a 是 L 中的一个元素，x 是 L 中的另一元素，如果：
$$
a \lor x = I, a \land x = 0
$$
x 叫做 a 的一个补元。
补元不一定存在也不一定唯一。

**定理14.9** 设 L 是一个有界的分配格，如果补元存在，那么它也是唯一的。

### 有补格

**有补格**

如果格 L 是有界的，且 L 中的每一个元素都存在补元，则称 L 是有补格。

**定理14.10** 设 L 是一个有唯一补元的有补格，那么 L 中的并不可约元素除 0 以外是它的原子。

**定理14.11** 设 L 是一个有限的有补分配格，那么 L 中的每一个元素 a 都可以写成唯一的原子集合的并。
